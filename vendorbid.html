<!DOCTYPE html><html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <title>Vendors</title>
  <link rel="stylesheet" href="css/mobirise2.css">
  <link rel="stylesheet" href="css/mobirise-icons.css">
  <link rel="stylesheet" href="css/tether.min.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="css/style_1.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/style_2.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/mbr-additional.css" type="text/css">
<link rel="apple-touch-icon" sizes="180x180" href="images/favicon_io BNE fin/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon_io BNE fin/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon_io BNE fin/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

<style>
    .container{
        display: flex;
	justify-content: center;
	align-items: center;
	flex-direction: column;
	font-family: 'Montserrat', sans-serif;
	height:auto;
	margin: -20px 0 50px;
    }

    .container form h1{
	font-weight: bold;
	margin: 0;
    color: whitesmoke;
    }

    .container form button {
        
	border-radius: 20px;
	border: 1px solid gray;
	background-color: white;
	color: black;
	font-size: 12px;
	font-weight: bold;
	padding: 12px 45px;
	letter-spacing: 1px;
	text-transform: uppercase;
    margin-left: 125px;

    }
    
    .container form input {
	background-color: transparent;
	border: solid 1px white;
	padding: 12px 15px;
	margin: 8px 0;
	width: 100%;
    border-radius: 10px;
}
.container form input select{
    border: solid 1px white;
}

    .content2 {
        background-color: #656b50;
    } 
    .contact{
        display: flex;
	justify-content: center;
	align-items: center;
	flex-direction: column;
	font-family: 'Montserrat', sans-serif;
	
    }
    ::placeholder{
        color: whitesmoke;
    }
</style>
</head>
<body>
  <section class="menu cid-rArojehvB9" once="menu" id="menu01-1g" data-sortbtn="btn-primary">
    <nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                <span class="navbar-logo">
                        <img src="images/logo2.png" alt="BNE" style="height: 3.8rem;">
                    </a>
                </span>
                <span class="navbar-caption-wrap"><a class="navbar-caption text-black display-2" href="index.html">Bid N Event_Vendor</a></span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item"><a class="nav-link link text-black display-7" href="#MyPack" aria-expanded="true">

                        Add Pack</a></li><li class="nav-item dropdown">
                    <a class="nav-link link text-black display-7" aria-expanded="true" href="#BiddingArea"> 
                        Bid Now</a></li><li class="nav-item dropdown">
                    <a class="nav-link link text-black display-7" aria-expanded="true" href="#contact">
                        Contact</a></li><li class="nav-item dropdown">
                        </ul>
    </nav>
</section>
<br>
<br>
<br>
<section class="content5 cid-rArKcJIBC4" id="About" data-sortbtn="btn-primary">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 md-pb">

                <img src="images/image.jpg" alt="img">
            </div>

            <div class="col-lg-6">

                <h3 class="mbr-section-subtitle mbr-bold mbr-black align-left mbr-light pb-2 mbr-fonts-style display-1">Bid & Organise</h3>


                <p class="text align-left pb-4 mbr-fonts-style display-5">"Bid and organize events" refers to the process of proposing, competing, and ultimately securing the opportunity to host an event or gathering. This involves creating a detailed proposal highlighting the location, amenities, schedule, and benefits of hosting the event. Once selected, the organizer manages all aspects, from logistics and marketing to execution, ensuring a successful and memorable experience for attendees.</p>    
            </div>
        </div>
    </div>

    <br>
    <br>

    
<section class="content2 cid-rArO1AVNDy" id="MyPack" itemid="btn-primary">
    <div class="container form">
        <div class="row">
            <form action="#">
                <br>
                <br><br>
                <h1><b>Add Your Package</b> </h1><br>
                <input type="text" placeholder="Person Size (Ex-100-125)" id="person_size" required /><br>
                <input type="text" placeholder="Venue (Ex-Yes(Address)/No)" id="venue" required />
                <br><input type="text" placeholder="Facilities (Ex-Meal/Decoration/Music/Tent)" id="categories" required />
                <br> <input type="text" placeholder="Events (Ex-Wedding/B'Day/Anniversary/College/Others)"  id="event" required />
                <br> <input type="number" placeholder="Budget (in INR)" id="budget" required />
                <br><br><button onclick="submitVendorDetails()">ADD</button>
            </form>
            </div>
        </div>
    </div>

</section>

<section class="features1 cid-rArK5y1S9B" id="BiddingArea" data-sortbtn="btn-primary"> 
    <div class="container">
        <div class="row">
            <div class="title col-12 pb-4 align-center">
                <br><br>
                <h1 class="pb-3 mbr-bold mbr-fonts-style display-2">
                    Bidding Area</h1>
            </div>
        </div>
    </div>
    <div class="container" id="vendorNotesContainer">
        <!-- Vendor packages will be dynamically added here -->
        
    </div>

</section>
<section class="features1 cid-rArJKH3TtX" id="contact" data-sortbtn="btn-primary">
    <div class="contact">
    <div class="container">
        <div class="row">
            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-box">
                    <h4 class="card-title mbr-bold mbr-fonts-style display-5">
                        Office</h4>
                    <p class="mbr-text mbr-fonts-style display-7">New Delhi<br>India</p>
                </div>
            </div>

            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-box">
                    <h4 class="card-title mbr-bold mbr-fonts-style display-5">Contacts</h4>
                    <p class="mbr-text mbr-fonts-style display-7">
                        +91-xxxxxxxxxx<br>support@BidNEvent.com</p>
                </div>
            </div>

            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-box">
                    <h4 class="card-title mbr-bold mbr-fonts-style display-5">
                        Address</h4>
                    <p class="mbr-text mbr-fonts-style display-7">
                        Connaught Place<br>New Delhi<br></p>
                </div>
            </div>
        </div>

    </div>
</div>
</section>

<section class="footer2 cid-rArZNHTQFZ" id="footer02-1t" data-sortbtn="btn-primary">
    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7">
                    Â© Copyright 2023 BidNEvent - All Rights Reserved
                </p>
            </div>
        </div>
    </div>
</section>



<script>
  const vendorNotesContainer = document.getElementById('vendorNotesContainer');

  async function submitVendorDetails() {
    const person_size = document.getElementById('person_size').value;
    const venue = document.getElementById('venue').value;
    const categories = document.getElementById('categories').value;
    const event = document.getElementById('event').value;
    const budget = document.getElementById('budget').value;

    try {
      const response = await fetch('/api/itemdetails/EnterDetails', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ person_size, venue, categories, event, budget }),
      });

      const data = await response.json();

      if (data.success) {
        alert('Data submitted successfully!');
      
      } else {
        alert('There is some error in loading data!');
        // Display an error message to the user
      }
    } catch (error) {
      console.error('Error submitting vendor details', error);
    }
  }

  async function displayReceivedPackage(packageDetails) {
  // Log the received package details to the console
  console.log('Received Package:', packageDetails);

  // Create a new div element to display the received package details
  const packageElement = document.createElement('div');
  packageElement.classList.add('col-12', 'col-md-4', 'package', 'md-pb', 'col-lg-4');
  packageElement.innerHTML = `
    <h4 class="card-title mbr-bold mbr-fonts-style display-5">Received Package</h4>
    <p class="mbr-text mbr-fonts-style display-7"><strong>Person Size:</strong> ${packageDetails.packageDetails.person_size}</p>
    <p class="mbr-text mbr-fonts-style display-7"><strong>Venue:</strong> ${packageDetails.packageDetails.venue}</p>
    <p class="mbr-text mbr-fonts-style display-7"><strong>Categories:</strong> ${packageDetails.packageDetails.categories}</p>
    <p class="mbr-text mbr-fonts-style display-7"><strong>Event:</strong> ${packageDetails.packageDetails.event}</p>
    <p class="mbr-text mbr-fonts-style display-7"><strong>Budget:</strong> ${packageDetails.packageDetails.budget}</p>;
    <button onclick="purchaseReceivedPackage(${JSON.stringify(packageDetails)})">Bid Now</button>`;
  // Append the package details to the vendorNotesContainer
  vendorNotesContainer.appendChild(packageElement);
}
alert('Customer showed intrest in an package.now you can bid!');

  async function notifyVendor(packageDetails) {
  try {
    const response = await fetch('/api/notifyVendor', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ packageDetails }),
    });
    const data = await response.json();
    if (data.success) {
      console.log('Vendor notified successfully.');
      displayReceivedPackage(packageDetails);
    } else {
      console.error('Error notifying the vendor.');
    }
  } catch (error) {
    console.error('Error notifying vendor', error);
  }
}
  async function makePurchase() {
    try {
      const response = await fetch('/api/purchase', {
        method: 'POST', 
      });
      const data = await response.json();
      if (data.success) {
        // Save purchase information in local storage
        localStorage.setItem('purchaseMade', 'true');
        // Fetch updated vendor details after a successful purchase
        alert('Purchase successful!');
        notifyVendor(data.packageDetails); 
      } else {
        alert('There was an error with the purchase.');
      }
    } catch (error) {
      console.error('Error making purchase', error);
    }
  }
  function purchaseReceivedPackage() {
  // Implement the logic to handle the purchase of the specific package
  console.log('Purchase button clicked for the received package');
  // You can call any additional functions or APIs to handle the purchase
}
document.addEventListener('DOMContentLoaded', function () {
  // Check if a purchase was made (retrieve from localStorage)
  const purchaseDetails = localStorage.getItem('purchaseMade');
  if (purchaseDetails) {
    // Display the purchase details on the vendor page
    const parsedDetails = JSON.parse(purchaseDetails);
    displayReceivedPackage(parsedDetails);
    // Reset the localStorage after using the value
  }

  const purchaseButton = document.getElementById('purchaseButton');
  if (purchaseButton) {
    purchaseButton.addEventListener('click', makePurchase);
  }
});

</script>
</body>
</html>